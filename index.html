<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="计算巢是阿里云开放给企业应用服务商的服务管理平台。服务商能够在计算巢上发布私有化部署服务，为其客户提供云上软件一键部署的能力；同时也支持全托管模式的服务，赋能服务商托管其客户资源。">
  <title>SaaS Boost使用与开发文档 - Aliyun 计算巢 x alibabacloud-compute-nest-saas-boost</title>

  <link rel="shortcut icon" href="img/favicon.ico">

  <link rel="stylesheet" href="https://unpkg.com/purecss@1.0.0/build/pure-min.css">
  <link rel="stylesheet" href="css/theme.css">
  

  

  
  

  
    <script src="search/main.js"></script>
  

  

  <script src="js/highlight.min.js"></script>
  <script>hljs.highlightAll();</script>
</head>

<body>
  <div class="container">
    <div class="nav">
      <div class="nav-inner">
        <div class="logo">
          <img src="./img/logo-2x.png">
        </div>
        <div class="nav-list">
          <ul>
          
              <li><a href="#saas-boost">SaaS Boost使用与开发文档</a></li>
              
                  <li><a href="#_1">概念解释</a></li>
                  
              
                  <li><a href="#_2">介绍</a></li>
                  
              
                  <li><a href="#saas-boost_1">SaaS Boost快速部署</a></li>
                  
                      <li class="li-h3"><a href="#_3">前提条件</a></li>
                  
                      <li class="li-h3"><a href="#_4">计费说明</a></li>
                  
                      <li class="li-h3"><a href="#_5">参数说明</a></li>
                  
                      <li class="li-h3"><a href="#_6">部署流程</a></li>
                  
                      <li class="li-h3"><a href="#_7">使用</a></li>
                  
              
                  <li><a href="#_8">开发者指南</a></li>
                  
                      <li class="li-h3"><a href="#saas-boost_2">Saas Boost 商品与套餐管理指南</a></li>
                  
                      <li class="li-h3"><a href="#_14">快速创建服务</a></li>
                  
                      <li class="li-h3"><a href="#_15">在参数管理中修改配置参数</a></li>
                  
              
                  <li><a href="#_21">定时任务访问</a></li>
                  
              
                  <li><a href="#_22">常见错误及解决</a></li>
                  
              
          
          </ul>
        </div>
      </div>
    </div>
    <div class="content theme-github">
      
      <div class="content-inner">        
        
        <h1 id="saas-boost">SaaS Boost使用与开发文档</h1>
<h2 id="_1">概念解释</h2>
<p><strong>计算巢服务</strong>：云资源与软件或应用的编排集合。一旦服务被发布和上线，终端用户就可以基于这些服务创建实例，以此来获取服务提供商的具体服务内容。</p>
<p><strong>计算巢服务ID</strong>：唯一标识一个计算巢服务。</p>
<p><strong>服务商</strong>：软件提供者，希望对软件进行商业化。</p>
<p><strong>用户</strong>：希望使用服务商的软件的人群。</p>
<p><strong>计算巢SaaS Boost</strong>：计算巢出品的一款开源框架。计算巢提供了该框架的一键部署方案，可帮助服务商快速将其软件实现商业化。</p>
<p><strong>计算巢SaaS Boost实例</strong>：通过计算巢一键部署方案创建的模版应用，服务商可直接访问Web界面构建其软件商城，并分享该界面给用户，实现软件的售卖。计算巢SaaS Boost实例也是通过计算巢进行部署的。</p>
<p><strong>SaaS Boost商品</strong>：服务商通过访问其Web界面，手动生成的一个商品，该商品具有一个唯一的商品码，用于关联服务商待售卖的软件（计算巢服务）。</p>
<p><strong>SaaS Boost公网访问地址</strong>：该SaaS Boost实例绑定的公网IP或域名，用于服务商和用户进行公网访问。也用于与计算巢进行API交互。</p>
<p><strong>SaaS Boost套餐</strong>：每一个商品可配置不同套餐，比如低配版，基础版，高配版，每个套餐具备不同的价格。</p>
<p><strong>计算巢服务套餐</strong>：计算巢服务侧的套餐，可对不同套餐进行参数管理。</p>
<h2 id="_2">介绍</h2>
<p>计算巢SaaS Boost是由阿里云推出的一款开源的支付和订阅管理框架，旨在帮助软件开发者基于计算巢快速构建、部署、扩展和售卖软件（<strong>同时支持私有化部署和全托管模式</strong>）， 打通软件的商业化之路。它提供了一组开箱即用的功能和组件，使用户聚焦于业务逻辑的开发，而极大地降低软件上云应用的复杂性和成本。 计算巢SaaS Boost提供了许多功能，包括：</p>
<ol>
<li>售卖能力：通过实现计算巢服务和SaaS Boost商品的双向绑定可快速实现软件软件售卖。支持国内支付宝支付。</li>
<li>计算巢能力：SaaS Boost底层为阿里云计算巢，可加速软件服务商在云上的部署、交付和管理服务, 实现一周上云。</li>
<li>多租户架构：SaaS Boost为多租户应用程序提供了强大的多租户数据隔离和管理功能，使得开发者可以轻松地构建和管理多个租户的数据。</li>
<li>持续集成和持续交付（CI/CD）能力：计算巢SaaS Boost提供了云效流水线，支持CI/CD能力，使开发者能够实现自动化的代码构建、测试和部署。可快速迭代和交付新功能，提高开发效率和产品质量。</li>
<li>套餐管理：SaaS Boost提供了多套餐配置，允许开发者灵活地定义和管理不同套餐，并处理套餐的计费和配额。</li>
<li>SaaS应用程序监控：SaaS Boost提供了监控功能，帮助开发者跟踪和分析应用程序的性能和运行状况，并及时发现和解决问题。</li>
</ol>
<h2 id="saas-boost_1">SaaS Boost快速部署</h2>
<h3 id="_3">前提条件</h3>
<p>使用阿里云计算巢SaaS Boost服务实例，需要对部分阿里云资源进行访问和创建操作。因此您的账号需要包含如下资源的权限。
<strong>说明</strong>：当您的账号是RAM账号时，才需要添加此权限。</p>
<table>
<thead>
<tr>
<th>权限策略名称</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>AliyunECSFullAccess</td>
<td>管理云服务器服务（ECS）的权限</td>
</tr>
<tr>
<td>AliyunVPCFullAccess</td>
<td>管理专有网络（VPC）的权限</td>
</tr>
<tr>
<td>AliyunROSFullAccess</td>
<td>管理资源编排服务（ROS）的权限</td>
</tr>
<tr>
<td>AliyunCloudMonitorFullAccess</td>
<td>管理云监控（CMS）的权限</td>
</tr>
<tr>
<td>AliyunOSSFullAccess</td>
<td>管理对象存储服务(OSS)的权限</td>
</tr>
<tr>
<td>AliyunOOSFullAccess</td>
<td>管理运维编排服务(OOS)的权限</td>
</tr>
<tr>
<td>AliyunFCFullAccess</td>
<td>管理函数计算(FC)服务的权限</td>
</tr>
<tr>
<td>AliyunOTSFullAccess</td>
<td>管理表格存储服务(OTS)的权限</td>
</tr>
<tr>
<td>AliyunComputeNestSupplierFullAccess</td>
<td>管理计算巢服务（ComputeNest）的商家侧权限</td>
</tr>
</tbody>
</table>
<h3 id="_4">计费说明</h3>
<p>计算巢SaaS Boost部署涉及的费用主要涉及：</p>
<ul>
<li>云服务器服务（ECS）费用</li>
<li>表格存储（OTS）费用</li>
<li>函数计算（FC）费用</li>
<li>对象存储（OSS）费用</li>
<li>流量带宽费用</li>
</ul>
<h3 id="_5">参数说明</h3>
<h4 id="ecs">ECS模版部署参数</h4>
<table>
<thead>
<tr>
<th>参数组</th>
<th>参数项</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>服务实例</td>
<td>服务实例名称</td>
<td>长度不超过64个字符，必须以英文字母开头，可包含数字、英文字母、短划线（-）和下划线（_）</td>
</tr>
<tr>
<td></td>
<td>地域</td>
<td>服务实例部署的地域</td>
</tr>
<tr>
<td>流水线配置</td>
<td>企业</td>
<td>选择/新建您的企业</td>
</tr>
<tr>
<td></td>
<td>GitHub服务连接</td>
<td>连接到GitHub的凭证。可通过账号密码方式创建</td>
</tr>
<tr>
<td></td>
<td>GitRepoEndpoint</td>
<td>仓库地址</td>
</tr>
<tr>
<td>付费类型配置</td>
<td>付费类型</td>
<td>按量付费/包年包月</td>
</tr>
<tr>
<td>ECS实例配置</td>
<td>实例类型</td>
<td>部署的ECS实例类型</td>
</tr>
<tr>
<td></td>
<td>实例密码</td>
<td>服务器登录密码,长度8-30，必须包含三项（大写字母、小写字母、数字、 ()`~!@#$%^&amp;*_-+=｜{}[]:;'&lt;&gt;,.?/ 中的特殊符号）</td>
</tr>
<tr>
<td>可用区配置</td>
<td>交换机可用区</td>
<td>该实例类型可部署的可用区</td>
</tr>
<tr>
<td>网络配置</td>
<td>是否新建VPC</td>
<td>选择是否在当前可用区新建VPC</td>
</tr>
<tr>
<td></td>
<td>专有网络VPC实例Id</td>
<td>选择当前可用区下的VPC实例</td>
</tr>
<tr>
<td></td>
<td>交换机实例Id</td>
<td>选择当前VPC支持的交换机</td>
</tr>
</tbody>
</table>
<h4 id="ack">ACK模版部署参数</h4>
<table>
<thead>
<tr>
<th>参数组</th>
<th>参数项</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>服务实例</td>
<td>服务实例名称</td>
<td>长度不超过64个字符，必须以英文字母开头，可包含数字、英文字母、短划线（-）和下划线（_）</td>
</tr>
<tr>
<td></td>
<td>地域</td>
<td>服务实例部署的地域</td>
</tr>
<tr>
<td>ACK集群配置</td>
<td>集群ID</td>
<td>阿里云上购买的ACK集群</td>
</tr>
<tr>
<td></td>
<td>POD安全角色应用</td>
<td>用于给POD分配合适的RAM角色，避免越权</td>
</tr>
<tr>
<td>镜像配置</td>
<td>服务端镜像</td>
<td>前后端一起打包的镜像。包含boost.server和bootst.front</td>
</tr>
<tr>
<td></td>
<td>定时任务镜像</td>
<td>boost.serverless</td>
</tr>
</tbody>
</table>
<h4 id="ecsack">ECS和ACK模式部署区别说明</h4>
<p>ECS模式是主服务部署到一台ECS机器上，定时任务以函数计算的方式发布到阿里云FC处，该模式自带了云效流水线，服务商修改完代码后可直接实现CI/CD。
ACK模式通过Helm部署到对应的ACK集群中。不具备流水线，需要用户自己打包服务端镜像：即主服务，包含Boost.server和boost.front代码，打包Job镜像，即Boost.serverless并自己管理。</p>
<h3 id="_6">部署流程</h3>
<p>部署计算巢SaaS Boost的流程如下：</p>
<h4 id="1">1. <strong>创建计算巢服务</strong></h4>
<ol>
<li><strong>配置您的SaaS应用（计算巢Service）</strong>：<ul>
<li>创建您的计算巢Service。见文档下方 开发者指南-快速创建服务。更详细的信息见官方文档<a href="#快速创建服务">快速创建服务</a></li>
</ul>
</li>
</ol>
<h4 id="2-fork">2. <strong>Fork当前仓库</strong></h4>
<p>Fork当前仓库到您的个人仓库</p>
<h4 id="3">3. <strong>创建支付宝沙箱账号</strong></h4>
<p>指引图片中被红框框住的参数在创建服务实例中会被使用到。创建支付宝沙箱账号和创建计算巢服务实例步骤可颠倒顺序。</p>
<ol>
<li>按照<a href="https://open.alipay.com/develop/sandbox/app">支付宝沙箱文档</a>中的说明，创建支付宝沙箱账号。其中应用网关地址和授权回调地址待创建好服务实例后回填。</li>
</ol>
<p><img src="./1.png" alt="Image" width="500" height="500"></p>
<ol>
<li>保留支付宝沙箱应用的私钥和支付宝的官方公钥</li>
</ol>
<p><img src="./2.png" alt="Image" width="500" height="500"></p>
<h4 id="4">4. <strong>创建计算巢服务实例</strong></h4>
<ol>
<li>访问<a href="https://computenest.console.aliyun.com/">计算巢控制台</a>选择<a href="https://computenest.console.aliyun.com/service/instance/create/cn-hangzhou?type=user&amp;ServiceId=service-fd1aec438c974828bb7b">SaaS Boost一键部署服务</a></li>
<li>
<p>按照提示填写部署参数</p>
</li>
<li>
<p>选择要部署的服务。</p>
</li>
<li>选择部署地域</li>
<li>填入支付宝沙箱信息（可跳过）<img src="./7.png" alt="Image"></li>
<li>
<p>在流水线配置中，创建您的企业。根据前文fork的仓库信息创建Git连接凭证，填入前文fork的仓库地址。 </p>
<ol>
<li>
<p>创建云效企业
        <img src="./8.png" alt="Image"></p>
</li>
<li>
<p>进入流水线
    <img src="./pipeline-1.png" alt="Image"></p>
</li>
<li>
<p>点击【全局设置】并进入
      <img src="./pipeline-2.png" alt="Image"></p>
</li>
<li>
<p>选择右上角Github服务连接并新建
      <img src="./pipeline-3.png" alt="Image"></p>
</li>
<li>
<p>Github处授权</p>
<p><img src="./pipeline-4.png" alt="Image"></p>
</li>
</ol>
</li>
<li>
<p>选择付费类型和想要部署的Ecs实例规格及部署可用区
           <img src="./9.png" alt="Image"></p>
</li>
<li>
<p>选择/新建专有网络(VPC)和交换机(VSW)
      为了减少参数的填写和理解，建议选择新建。
      <img src="./10.png" alt="Image"></p>
</li>
<li>
<p>确认同意服务协议并点击<strong>立即创建</strong>
   进入部署阶段。等待资源创建完成和流水线执行完成。
   <img src="./11.png" alt="Image"></p>
</li>
<li>
<p>服务实例创建好后回填参数(可跳过)</p>
<ol>
<li>在部署的实例信息中将AlipayNotifyUrl和AlipayReturnUrl分别回填到支付宝沙箱应用配置中的应用网关地址和授权回调地址(
   步骤2.1)</li>
</ol>
<p><img src="./12.png" alt="Image">
   2. 等待流水线执行完成，可按下图方式访问流水线，查看流水线执行进度
   <img alt="img.png" src="pipeline-6.png" />
   3. 流水线运行成功
<img alt="img.png" src="pipeline-5.png" /></p>
<h4 id="5-saas-boost">5. <strong>访问计算巢SaaS Boost服务</strong></h4>
</li>
</ol>
<p>点击部署好的服务实例详情页的Endpoint即可访问示例SaaS Boost界面。</p>
<p><img alt="image.png" src="13.png" /></p>
<h3 id="_7">使用</h3>
<p>一旦计算巢SaaS Boost部署完成（如为ECS部署方式还需等待流水线执行完成），您就可以开始使用它来开发、部署和销售您的软件应用程序。以下是一些关键的使用说明：</p>
<ol>
<li>
<p>配置/修改服务的套餐（可选）</p>
<ul>
<li>上传<a href="https://help.aliyun.com/zh/compute-nest/deployment-object-management/?spm=a2c4g.11174283.0.i2">部署物</a>或使用<a href="https://help.aliyun.com/zh/ros/use-cases/?spm=a2c4g.11174283.0.0.5c3848aezYq1dI">快速ROS模版</a>搭建您服务的计算巢Service。</li>
<li>在application.properties文件中配置套餐</li>
<li>重新运行流水线，完成SaaS应用的部署。</li>
</ul>
</li>
<li>
<p><strong>支付宝沙箱测试（必选）</strong>：在正式售卖前，请利用支付宝沙箱APP测试售卖能力。</p>
<ol>
<li>如果在创建计算巢服务实例处选择跳过配置支付宝信息。则在使用前需要进行配置。见"对支付宝服务的配置进行修改"一节</li>
<li>在支付宝沙箱工具中下载支付宝客户端沙箱版安卓APP</li>
</ol>
<p><img src="./14.png" alt="Image"></p>
<ol>
<li>
<p>在精选服务界面选择想要购买的软件商品</p>
<p><img alt="img.png" src="service-1.png" /></p>
</li>
<li>
<p>使用沙箱应用中提供的账号密码进行支付测试。</p>
</li>
<li>
<p>查看已部署的服务实例详情</p>
</li>
</ol>
<p><img alt="image.png" src="16.png" /></p>
<ol>
<li>查看已部署服务实例监控</li>
</ol>
<p><img alt="image.png" src="17.png" /></p>
<ol>
<li>查看历史订单</li>
</ol>
<p><img alt="image.png" src="18.png" /></p>
</li>
<li>
<p>在通过沙箱测试后，务必再次使用正式的支付宝账号进行售卖测试。</p>
<ol>
<li>访问<a href="https://open.alipay.com/develop/manage">支付宝开发者控制台</a></li>
<li>创建网页/移动应用</li>
<li>按照提示填写应用名称，商家账号和图标</li>
<li>依次配置如下参数
   <img alt="img.png" src="alipay-config-1.png" /></li>
<li>选择接口加密。方式选择密钥加密</li>
<li>下载官方密钥生成工具。点击生成密钥即可。</li>
<li>将得到的公钥上传</li>
<li>下载支付宝公钥</li>
<li>设置接口加密方式为AES</li>
<li>设置应用网关地址，即支付后支付宝校验的回调地址，对应服务实例详情处: AlipayNotifyUrl</li>
<li>设置授权回调地址，即支付后支付宝重定向的页面，对应服务实例详情处：AlipayReturnUrl</li>
<li>将boost.common包中激活的application-*.properties配置的沙箱支付宝网关地址修改为如图所示的正式版网关地址。将配置文件中的支付宝沙箱官方公钥替换为正式版公钥。</li>
<li>将您自己的应用私钥和支付宝应用公钥在OOS参数仓库进行修改。详见开发者指南-对OAuth服务的配置进行修改</li>
<li>重新运行流水线</li>
</ol>
</li>
<li>进行正式支付宝的购买测试</li>
</ol>
<h2 id="_8">开发者指南</h2>
<h3 id="saas-boost_2">Saas Boost 商品与套餐管理指南</h3>
<p>本文档旨在指导如何在Saas Boost平台上适当地管理和定价商品，以及如何保持商品与计算巢(Calculating Nest)服务和套餐之间的一致性。</p>
<h4 id="_9">商品与服务的关联</h4>
<p>在Saas Boost平台上创建的每个商品应对应计算巢中的单个服务。商家可基于此服务为商品设定一个基础价格。</p>
<h4 id="_10">创建商品</h4>
<ol>
<li>登录到Saas Boost。</li>
<li>导航至<strong>商品管理</strong>页面。</li>
<li>点击<strong>新增商品</strong>按钮进入创建界面。</li>
<li>输入服务相关信息，并在<code>服务ID</code>字段中填写对应的计算巢服务ID。</li>
<li>完整填写商品信息，包括名称、描述和基础定价。</li>
<li>点击提交，完成商品创建。
   <img alt="image.png" src="commodity-1.png" /></li>
</ol>
<h4 id="_11">计算巢侧的套餐</h4>
<p>此处的套餐用于管理部署的软硬件参数。
通过套餐设置功能，服务商可以将服务中的部分或全部参数配置为套餐，以供用户选择，避免用户在一个服务中配置较多参数导致的用户学习成本太高或者选配出错。</p>
<p>服务商可以配置多个套餐，给用户提供不同场景的最佳配置实践。</p>
<p>在创建服务实例时，必须选择一个套餐，再配置套餐外的参数即可创建服务实例。
更详细的信息见计算巢官方文档：<a href="https://help.aliyun.com/zh/compute-nest/create-package-settings-for-a-service">配置套餐</a></p>
<h4 id="saas-boost_3">Saas Boost侧的套餐</h4>
<p>此处的套餐用于管理计算巢套餐的价格。
在Saas Boost中为商品设定的每个套餐应对应计算巢中的相应服务套餐。每个套餐的名称必须与计算巢中的套餐名称完全一致。在这个过程中，开发者应该先在计算巢中进行<a href="https://help.aliyun.com/zh/compute-nest/create-package-settings-for-a-service?spm=a2c4g.11174283.0.i5">套餐配置</a>，而后在SaaS Boost中对上述配置的套餐定制价格。</p>
<h4 id="_12">套餐命名统一</h4>
<p>为保证用户体验的一致性，请确保计算巢中的套餐名称与Saas Boost上的套餐名称相匹配。</p>
<h4 id="saas-boost_4">添加SaaS Boost套餐与定价</h4>
<ol>
<li>选择已创建好的商品，并进入其套餐管理界面。</li>
<li>点击<strong>新增套餐</strong>，进入套餐详细配置页面。</li>
<li>在<code>套餐名</code>字段中准确输入计算巢中对应套餐的名称。</li>
<li>根据套餐配置设定一个定价。</li>
<li>确认信息无误后保存新套餐。
   计算巢处套餐配置示例如下所示：
   <img alt="image.png" src="commodity-2.png" />
   SaaS Boost处套餐示例如下所示：
   <img alt="image.png" src="commodity-3.png" /></li>
</ol>
<h4 id="_13">注意要点</h4>
<ul>
<li>保持Saas Boost上的套餐名称与计算巢中套餐的名称保持严格一致。</li>
<li>定价时要考虑对应计算巢服务套餐的具体配置。</li>
<li>定期审核和更新Saas Boost与计算巢之间的套餐对应关系，以保持数据的最新性和准确性。</li>
</ul>
<p>遵循这些指导原则，商家可以保证Saas Boost平台上的商品与计算巢中服务和套餐的适当整合和价格一致性。</p>
<h3 id="_14">快速创建服务</h3>
<p>如果您还没有为您即将售卖的软件创建计算巢服务。请基于以下文档快速创建计算巢服务。</p>
<ol>
<li>登录到<a href="https://computenest.console.aliyun.com/">计算巢控制台</a>，选择<a href="https://computenest.console.aliyun.com/service/create/">新建服务</a></li>
</ol>
<p><img alt="img.png" src="service-creation-1.png" />
2. 仿照下图配置，选择托管版服务和Spring Boot服务。</p>
<p><img alt="img.png" src="service-creation-2.png" />
3. 填写配置参数</p>
<p><img alt="img.png" src="service-creation-3.png" />
4. 点击"创建服务"，等待服务创建成功。
5. 后续当您想对您软件部署物进行修改时，可对该服务进行编辑，重新选择部署物。</p>
<p><img alt="img.png" src="service-creation-4.png" /></p>
<h3 id="_15">在参数管理中修改配置参数</h3>
<p>为了更好的售卖您的商品，您需要提前配置好个人信息管理与支付信息管理。个人信息包括服务商名称、官方链接、Logo链接和服务商简介，这些信息有助于您更好地
向用户展示您的相关情况。支付信息管理中未来会支持多种支付手段，但当前仅支持用支付宝完成收款。支付宝中您需要配置的参数包括应用ID、商户ID、官方公钥、
服务商私钥以及支付环境等五项信息。本节将详细介绍个人信息与支付信息中的参数需要填写的内容与需要遵循的规则。</p>
<h4 id="_16">修改服务商个人信息</h4>
<p>个人信息中的Logo链接支持本地路径与http url两种方式。其他信息您可以按照您的需求进行填写。</p>
<p>下面是分别使用本地路径与http url的两个服务商个人信息填写示例：</p>
<p>示例一(本地路径)：
<img alt="providerInfo-1.png" src="providerInfo-1.png" /></p>
<p>示例二(http url):
<img alt="providerInfo-2.png" src="providerInfo-2.png" /></p>
<h4 id="_17">配置支付宝</h4>
<h5 id="_18">准备阶段</h5>
<p>在配置支付宝参数前，您需要确保您的应用已经在支付宝开放平台接入。若需注册您的应用，请访问<a href="https://open.alipay.com/develop/manage">支付宝开发者控制台</a>。
若在注册过程中遇到困难，请参考支付宝开放平台的<a href="https://opendocs.alipay.com/common/02mse2?pathHash=a0991bdc">技术接入指南</a>。</p>
<h5 id="_19">配置项介绍</h5>
<p>支付宝的配置项包括应用ID、商户ID、官方公钥、 服务商私钥以及支付环境。其中，应用ID、商户ID和支付环境为普通参数，官方公钥、 服务商私钥为加密参数，
saas boost利用阿里云中的oos产品保障您私密信息的信息安全。</p>
<p>应用ID是支付宝为每个接入其支付服务的应用或网站分配的一个唯一标识符。它用来识别具体的商户应用，确保请求来源于已授权的商家。在发起支付请求时，必须包
含此ID，以便支付宝平台能够识别并路由到正确的商户账户。</p>
<p>商户ID是支付宝为商户分配的一个唯一编号，用于标识商户的身份。它与应用ID相辅相成，共同确定交易的收款方。商户ID在处理支付、退款等业务逻辑时是必不可少
的，确保资金流向正确的商户账户。</p>
<p>官方公钥是指支付宝提供的公钥，用于验证支付宝发给商户的消息或通知的真实性。在加密通信中，商户会使用支付宝的公钥对支付宝发送过来的数据进行解密，或者验
证支付宝签名，以此确认消息未被篡改，保证了交易的安全性。</p>
<p>服务商私钥是指支付宝与商户约定的私钥，是RSA非对称加密体系中的一部分，与支付宝提供的公钥配对使用。商户在发起支付请求前，会使用自己的私钥对交易信息进
行签名，支付宝收到请求后，利用公钥验证签名，以此确保请求的来源是可信的。这个过程对于防止数据被篡改和保证交易的完整性至关重要。</p>
<p>支付环境包括沙盒环境和正式环境。沙盒环境是一个模拟的真实支付环境，供开发者在不涉及真实资金交易的情况下测试支付功能。在沙盒环境中，可以安全地调试代
码、测试支付流程，确保一切正常无误后再切换到正式环境。一旦应用的支付功能在沙盒环境中测试无误，就可以将其部署到正式环境中。正式环境直接关联实际的财务
交易，用户在这里进行的支付操作将涉及真实的货币流动。</p>
<h5 id="_20">获取方法介绍</h5>
<ol>
<li>
<p>应用ID在您的应用注册成功后，在支付宝开放平台-&gt;控制台标签页的左上角查看。如下图红框中所示。
<img alt="alipay-appId.png" src="alipay-appId.png" /></p>
</li>
<li>
<p>商户ID在支付宝开放平台-&gt;右上角头像-&gt;账户中心-&gt;账号管理-&gt;账户信息-&gt;账号ID中查看。如下图红框所示。
<img alt="alipay-userId-1.png" src="alipay-userId-1.png" />
<img alt="alipay-userId-2.png" src="alipay-userId-2.png" /></p>
</li>
<li>
<p>官方公钥与服务商私钥获取方式请参考支付宝开放平台的<a href="https://opendocs.alipay.com/common/057aqe?pathHash=9e740611">查看密钥/证书</a>文档。</p>
</li>
<li>
<p>支付环境请您根据自身情况设置，在沙盒环境中安全地调试代码、测试支付流程，确保一切正常无误后再切换到正式环境。</p>
</li>
</ol>
<h2 id="_21">定时任务访问</h2>
<p>SaaS Boost的定时任务包括超时订单关闭，订单的退款处理，已完成的订单的状态修改等
如果为ECS部署，则参照下图访问
<img alt="img.png" src="job-1.png" />
如果为ACK部署方式，则请访问ACK的Job查看</p>
<h2 id="_22">常见错误及解决</h2>
<ol>
<li>
<p>流水线运行错误。
    流水线包含npm build，Java build。在build完后，Fc的jar包会上传到OSS仓库。Server的jar包会上传到计算巢制品仓库。上传之后会进行实际的部署，其中FC的部署
    为直接替换OSS中zip包的方式，Server的部署为执行当前项目下的deploy.sh脚本。在熟悉了整体流水线的运行步骤后，通过结合流水线给出的错误日志，即可定位到常见的开发问题。
    如果觉得在云端难以解决，可将错误环境克隆到本地。    示例如下：
   <img src="./error-1.png" alt="Image"></p>
</li>
<li>
<p>服务实例部署失败
    该类情况多见于创建服务实例的用户的权限不够，或是选择部署的Ecs实例在当前可用区售罄了。
    更详细的信息可在服务实例详情部署日志处查看。</p>
</li>
</ol>
        
      </div>

      <div class="copyrights">© 2009-2022 Aliyun.com 版权所有</div>
    </div>
  </div>
  
  <!--
  MkDocs version      : 1.6.1
  Docs Build Date UTC : 2024-09-25 01:44:42.164696+00:00
  -->
</body>
</html>